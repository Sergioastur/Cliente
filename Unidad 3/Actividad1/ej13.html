<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /**
            Crear una Clase con cuatro propiedades (Nombre de alumno y 3 notas). Ir almacenando los alumnos
            en un Array.
                a) Permitir añadir y eliminar alumnos y notas.
                b) Añadirle una nueva propiedad (nota media) mediante prototype
                c) Mostrar el Array ordenado por nombres o por nota media

            * 
            
            
        */

        class Alumno {
            constructor(nombre, nt1, nt2, nt3) {
                this.nombre = nombre;
                this.nt1 = nt1;
                this.nt2 = nt2;
                this.nt3 = nt3;
            }

            /* get nombre() {
                return this.nombre;
            }

            get nt1() {
                return this.nt1;
            }

            get nt2() {
                return this.nt2;
            }

            get nt3() {
                return this.nt3;
            } */

        }

        let alumnos = [];

        function addAlumno() {
            let nom = prompt("Nombre: ");
            let n1 = Number(prompt("Nota 1: "));
            let n2 = Number(prompt("Nota 2: "));
            let n3 = Number(prompt("Nota 3: "));

            let alumno = new Alumno(nom, n1, n2, n3);

            alumnos.push(alumno);
            
        }

        p = new Alumno("cprueba", 5, 5, 5);
        p2 = new Alumno("aprueba2", 6, 9, 5);
        p3 = new Alumno("bprueba3", 0, 1, 5);

        alumnos.push(p, p2, p3);

        function delAlumno(nombre, alumnos) {
            let indice = alumnos.findIndex(alumnos => alumnos.nombre == nombre);
            if (indice != -1) {
                alumnos.splice(indice,1);
            } else {
                alert("El alumno no existe");
            }

        }



        Alumno.prototype.notaMedia = function () {
            let media = (this.nt1 + this.nt2 + this.nt3) / 3;
            return media;

        }


        function printArr(alumnos) {
            alumnos.sort((a, b) => a.nombre.localeCompare(b.nombre));
                for (let i = 0; i < alumnos.length; i++) {

                    document.write(alumnos[i].nombre, " ", alumnos[i].nt1, " ", alumnos[i].nt2, " ", alumnos[i].nt3, " ", alumnos[i].notaMedia(), "<br>");

                }
        }


        let ele = prompt("a) añadir alumno \n b) borrar alumno \n c) mostrar arrray ordenado por nombre");
        ele = ele.toLowerCase();
        switch (ele) {
            case "a":
                addAlumno();
                printArr(alumnos);
            break;
            case "b":
                let delA = prompt("Nombre del alumno a borrar: ");
                delAlumno(delA, alumnos);
                printArr(alumnos);
            break;
            case "c":
                printArr(alumnos);
            break;
        }




    </script>
</body>

</html>