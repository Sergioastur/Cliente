<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*
            Crear un Array de arrays que permita almacenar Nombres y 3 notas de alumnos.
            a) Permitir añadir y eliminar alumnos y notas.
            b) Añadir un nuevo elemento (Nota Media).
            c) Mostrar el Array ordenado por nombres o por nota media
                var alumno1 = new Array("Pepe", 5, 6, 6.5);
                var alumno2 = new Array("Luis”, 4, 7, 7);
                var alumno3 = new Array("Pedro", 8, 4.5, 3);
                var Alumnos = new Array(alumno1, alumno2, alumno3);
        */
        var alumno1 = new Array("Pepe", 5, 6, 6.5);
        var alumno2 = new Array("Luis", 4, 7, 7);
        var alumno3 = new Array("Pedro", 8, 4.5, 3);
        var Alumnos = new Array(alumno1, alumno2, alumno3);

        function alta() {
            let nom = prompt("Nombre: ");
            let nt1 = Number(prompt("Nota1: "));
            let nt2 = Number(prompt("Nota2: "));
            let nt3 = Number(prompt("Nota3: "));

            let nAlum = new Array(nom, nt1,nt2,nt3);
            Alumnos.push(nAlum);
        }

        function baja() {
            let nomBaja = prompt("Nombre del alumno a dar de baja: ");
            let indice = Alumnos.findIndex(alumno => alumno[0] == nomBaja);
            if (indice != -1) {
                Alumnos.splice(indice,1);
            } else {
                alert("El alumno no existe");
            }
        }

        
        function media() {
            for (let i = 0; i<Alumnos.length; i++) {
                let media = (Alumnos[i][1]+Alumnos[i][2]+Alumnos[i][3])/3
                if (!Alumnos[i][4]) {
                    Alumnos[i].push(media);
                }
                
            }
        }

        

        function ordenarPorNombre() {
             Alumnos.sort((a, b) => a[0].localeCompare(b[0]));
        }


        function ordenarPorNotaMedia() {
            Alumnos.sort((a, b) => b[4] - a[4]); 
        }

        
        
        let ele = 0;
        do {
            ele = Number(prompt("1) ALTAS \n 2) BAJAS \n 3) ORDENAR POR NOMBRE \n 4) ORDENAR POR MEDIA \n 5) SALIR"));
            switch (ele) {
                case 1:
                    alta();
                break;
                case 2:
                    
                    baja();
                break;
                case 3:
                    media();
                    ordenarPorNombre();
                    alert(Alumnos.join("\n"));
                break;
                case 4:
                    media();
                    ordenarPorNotaMedia();
                    alert(Alumnos.join("\n"));
                break;
                case 5:
                    alert("FIN PROGRAMA");
                break;
            }
        } while (ele != 5);

       
    </script>
</body>
</html>